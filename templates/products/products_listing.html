{% extends 'home.html' %}

{% block page-title-var %} Products List {% endblock page-title-var %}


{% block application-active %}


<div class="container" style="margin-top:4%;margin-bottom:4%">
<table id="example" class="table table-striped table-bordered " style="width:100%">
        <thead>
            <tr>
                <th>Name</th>
                <th>Status</th>
                <th>Stock On Hand</th>
                <th>Unit</th>
                <th>Group Name</th>
                <th>info</th>
                <th>Coa Files</th>
                
                 

            </tr>
        </thead>
        <tbody>
            {% for product in product_list%}
            <tr>
                <td>{{ product.name }}</td>
                <td> {% if product.status == 'Ac'%} Active {% else %} In-Active {% endif %}</td>
                <td>{{ product.stock_on_hand }} </td>
                <td>  {{ product.unit }}  </td>
                <td>{{ product.group }}</td>
                <td>
                  <a href="#" class="btn btn-outline-primary btn-sm btn-block sales_history" data-toggle="modal" data-target=".sales-{{ product.pk }}" data-id='{{ product.pk }}' title="Sales History(Zoho Books Invoice)">Sales</a>
                  <a href="#" class="btn btn-outline-primary btn-sm btn-block purchase_history" data-toggle="modal" data-target=".purchase-{{ product.pk }}" data-id='{{ product.pk }}' title="Purchase History(Zoho Books Bills)">Purchase</a>
                  
                  <a href="#" class="btn btn-outline-primary btn-sm btn-block recent_deals {% if product.dealvendor_set.all %} disabled {% endif %}" {% if product.dealvendor_set.all %} aria-disabled="true" {% endif %} data-toggle="modal" data-target=".recent-{{ product.pk }}" data-id='{{ product.pk }}' title="Recent Vendor Deals">Recent Deals</a>
                  
                  <a href="#" class="btn btn-outline-primary btn-sm btn-block graph" data-toggle="modal" data-target=".graph-{{ product.pk }}" title="Detailed Summary Vendor Wise" data-id='{{ product.pk }}'><i class="fas fa-chart-area"></i> Summary</a>
                  <a href="#" class="btn btn-outline-primary btn-sm btn-block googlechartsapp" data-toggle="modal" data-target=".googlechartsapp-{{ product.pk }}" title="Google Charts To Filter Data" data-id='{{ product.pk }}'><i class="fas fa-chart-area"></i>Google Charts App</a>
                
                </td>
                <td>
                  <a class="btn btn-outline-primary btn-block" href="{% url 'coa_upload' pk=product.pk %}">Upload</a>
                  <a  href="#" class="btn btn-outline-primary btn-sm btn-block coaview" data-toggle="modal" data-target=".coaview-{{ product.pk }}" title="Quick View of Coa Files Uploaded" data-id='{{ product.pk }}' class="btn btn-outline-primary btn-block" >View</a>
              
              <div class="modal fade coaview-{{ product.pk }}"  tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
              <div class="modal-dialog modal-lg" role="document">
                <div class="modal-content" style="left:-19%;width:141%">
                  <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLongTitle" style="margin-left:auto;">COA files:</h5><h4 style="text-align:center;"><span style="text-decoration: underline;">{{ product.name }} </span> </h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                    </button>
                  </div>
                  <div class="modal-body">
                  
                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    
                  </div>
                </div>
              </div>
            </div>
                </td>
                
                    
            
            
            
            


            <!-- MODALS -->
            <!-- SALES MODAL -->
            <div class="modal fade sales-{{ product.pk }}"  tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
              <div class="modal-dialog modal-lg" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLongTitle" style="margin-left:auto;">Sales of :</h5>
                    <h4 style="text-align:center;"><span style="text-decoration: underline;"> {{ product.name }} </span></h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                    </button>
                  </div>
                  <div class="modal-body">
                  
                    
                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    
                  </div>
                </div>
              </div>
            </div>
            <!-- PURCHASES MODAL -->
            <div class="modal fade purchase-{{ product.pk }}"  tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
              <div class="modal-dialog modal-lg" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLongTitle" style="margin-left:auto;">Purchases of:</h5><h4 style="text-align:center;"><span style="text-decoration: underline;"> {{ product.name }} </span></h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                    </button>
                  </div>
                  <div class="modal-body">
                  
                    
                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    
                  </div>
                </div>
              </div>
            </div>

            <!-- RECENT VENDOR DEALS MODAL -->
            <div class="modal fade recent-{{ product.pk }}"  tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
              <div class="modal-dialog modal-lg" role="document">
                <div class="modal-content" style="left:-19%;width:141%">
                  <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLongTitle" style="margin-left:auto;">Recent Vendor Deals of:</h5><h4 style="text-align:center;"><span style="text-decoration: underline;">{{ product.name }} </span> </h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                    </button>
                  </div>
                  <div class="modal-body">
                  
                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    
                  </div>
                </div>
              </div>
            </div>
            <!-- Graphical Summary MODAL -->
            <div class="modal fade graph-{{ product.pk }}"  tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
              <div class="modal-dialog modal-lg" role="document">
                <div class="modal-content" style="left:-19%;width:141%">
                  <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLongTitle" style="margin-left:auto;">Summary</h5><h4 style="text-align:center;"><span style="text-decoration: underline;">{{ product.name }} </span> </h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                    </button>
                  </div>
                  <div class="modal-body">
                  
                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    
                  </div>
                </div>
              </div>
            </div>
            <!-- Google Charts App MODAL -->
            <div class="modal fade googlechartsapp-{{ product.pk }}"  tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
              <div class="modal-dialog modal-lg" role="document">
                <div class="modal-content" style="left:-35%;width:170%">
                  <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLongTitle" style="margin-left:auto;">GOOGLE CHARTS</h5><h4 style="text-align:center;"><span style="text-decoration: underline;">{{ product.name }} </span> </h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                    </button>
                  </div>
                  <div class="modal-body">
                  
                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    
                  </div>
                </div>
              </div>
            </div>
           
                
            </tr>
            {% endfor %}
        </tbody>
        <tfoot>
            <tr>
                <th>Name</th>
                <th>Status</th>
                <th>Stock On Hand</th>
                <th>Unit</th>
                <th>Group Name</th>
                <th></th>
            </tr>
        </tfoot>
    </table>
    </div>

{% endblock application-active %}
